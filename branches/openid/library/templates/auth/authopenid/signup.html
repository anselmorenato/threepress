{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="/static/home.css"></link>
<link rel="stylesheet" type="text/css" href="/static/auth.css" ></link>
<style type="text/css">
form fieldset {
  border: 1px dotted gray;
}
</style>
{% endblock head %}

{% block leftnav %}
  <h2>Two ways to join</h2>
  <ul>
    <li>Use OpenID</li>
    <li>Don't have an OpenID?  Sign up with a username and password just
      for Bookworm.</li>
  </ul>
{% endblock leftnav %}

{% block main %}

<div id="bw-content">
  <h1>Register with Bookworm</h1>
    {% if form.errors %}
    <p class="bw-message">Please correct errors below:
    {% if form.username.errors %} 
    <span class="bw-error">{{ form.username.errors|join:", " }}</span>
    {% endif %}
    {% if form.email.errors %} 
    <span class="bw-error">{{ form.email.errors|join:", " }}</span>
    {% endif %}
    {% if form.password2.errors %} 
    <span class="bw-error">{{ form.password2.errors|join:", " }}</span>
    {% endif %}
    </p>
    {% endif %}
    <div id="bw-openid-signup" style="float:left">
      <h2 class="bw-signup">Use my OpenID</h2>
      <img src="/static/openid-logo.png" alt="OpenID" />
      <form name="fopenid" action="{{ action_signin }}" method="post">
	<fieldset>
          {{ form2.openid_url }}
          <input name="bsignin" type="submit" value="Sign up with OpenID" />
	</fieldset>
      </form>
    </div>

    <div id="bw-local-signup" style="float:right">
    <h2 class="bw-signup">Sign up locally</h2>

    <form action="{{ action }}" method="post" accept-charset="utf-8">	
      <fieldset>
        <label for="id_username">Username:</label>
	{{ form.username }}

        <label for="id_email">Email:</label>{{ form.email }}
        <label for="id_password1">Password:</label>{{ form.password1 }}
        <label for="id_password2">Confirm password:</label>
	{{ form.password2 }}

	<input type="submit" value="Sign up" />
      </fieldset>
    </form>
    </div>
</div>
{% endblock %}
